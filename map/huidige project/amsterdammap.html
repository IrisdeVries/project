<code html>
<!DOCTYPE html>
<html>
	<head>
		<title> Wonen in Amsterdam </title>
		<p id="p1">Hello Amsterdam!</p>
		<p id="p2"></p>
		<p id="p3"></p>

		<!-- afbeeldingen stadsdelen -->
		<!-- <div id="divimg">
			<img id = "CentrumWestMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.40.25.png" style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "CentrumOostMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.40.50.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "WesterparkMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.42.25.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "BOLOMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.43.49.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "OudWestDeBaarsjesMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.45.26.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "GeuzenveldSlotermeerMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.47.19.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "OsdorpMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2015.48.26.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "DeAkerNieuwSlotenMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.04.34.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "SlotervaartMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.08.34.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "OudZuidMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.10.54.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "BuitenveldertZuidasMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.10.54.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "DePijpRivierenbuurtMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.12.35.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "OudOostMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.14.49.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "IndischeBuurtOostelijkHavengebiedMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.30.39.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "WatergraafsmeerMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.35.18.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "IJburgZeeburgereilandMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.37.17.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "NoordWestMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.39.49.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "OudNoordMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/OudNoordmap.jpg"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "NoordOostMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.41.53.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "BijlmerCentrumMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.43.26.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "BijlmerOostMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.44.31.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "GaasperdamDriemondMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.45.37.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
			<img id = "WestpoortMap" src="https://raw.githubusercontent.com/IrisdeVries/project/master/doc/Schermafbeelding%202016-01-24%20om%2016.45.37.png"style="width:142px;height:104px; position: absolute; z-index: 2; top: 990; left: 1200; visibility:hidden">
	</div> -->
	
		<meta name = "viewport" content = "initial-scale = 1.0, user-scalable = no"/>
		<link rel="stylesheet" type="text/css" href="amsterdammap.css"/>
		<script type = "text/javascript" src = "http://maps.google.com/maps/api/js?sensor=false"></script>
		<script type = "text/javascript" src = "GM_basistopo.js"></script>
		<script type = "text/javascript" src = "verhalen.js"></script>
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script type = "text/javascript" src= "http://cdnjs.cloudflare.com/ajax/libs/d3/2.10.0/d3.v2.min.js"></script>
		<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
		<script src="https://rawgit.com/gka/d3-jetpack/master/d3-jetpack.js"></script>
		<script type = "text/javascript" src = "kaartOpties.js"></script>
		<script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.1.5/src/markerwithlabel_packed.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

		<script> 
			$(document).ready(function(){
			    $("#flip").click(function(){
			        $("#panel").slideToggle("slow");
			    });
			});
			$(document).ready(function(){
			    $("#flipTwee").click(function(){
			        $("#panelTwee").slideToggle("slow");
			    });
			});
		</script>
	</head>

	<!-- geefKaart -->
	<body onLoad = "geefKaart()">

		<!-- canvas google maps -->
		<div id = "map_canvas" style = "width: 65%; height: 75%; margin-top: 130px; margin-left: 400px; position: absolute; z-index: 0; border:1px solid black;"></div>

		<!-- canvas informatie -->
		<div id = "divcanvas1" style = "position: absolute; z-index: 2; top: 30; left: 0;">
			<canvas id = "myCanvas1" width = "400" height = "800" style = "position: absolute; z-index: 2;"></canvas>
		</div>
		<div id = "divcanvas2" style = "position: absolute; z-index: 2; top: 5;">
			<canvas id = "myCanvas2" width = "500" height = "60" style = "position: absolute; z-index: 2;"></canvas>	
		</div>
		<div id = "divcanvas3" style = "position: absolute; z-index: 2; top: 60; left: 910;">
			<canvas id = "myCanvas3" width = "500" height = "60"></canvas>
		</div>	

		<!-- barchart -->
		<div id="chart" style = "position: absolute; z-index: 2; top: 1500; left: 30;"></div>
		<!-- Table -->
		<div id="chart2" style = "position: absolute; z-index: 2; top: 1000; left: 30;"></div>

		<!-- knoppen -->
		<button id = "knop" onclick = "woningwaardeKnop()" style = "position: absolute; z-index: 2; top: 300; left: 10; color:"white"; font-family:Verdana;">Woningwaarde</button>
		<button id = "knop" onclick = "bevolkingsdichtheidKnop()" style = "position: absolute; z-index: 2; top: 300; left: 150;">Bevolkingsdichtheid</button>
		<button id = "knop" onclick = "veiligheidKnop()" style = "position: absolute; z-index: 2; top: 350; left: 170;">Veiligheid</button>
		<button id = "knop" onclick = "backTop()" style = "position: absolute; z-index: 2; top: 1000; left: 10;">Top</button>

		<!-- leeftijdsgroep slider -->
		<div id="flip" style = "position: absolute; z-index: 3; top: 350; left: 10;">Leeftijdsgroepen</div>
		<div id="panel" style = "position: absolute; z-index: 3; top: 380; left: 10;">
			<form action="demo_form.asp" method="get">
				<input type="radio" onclick = "leeftijdsgroepenKnopEen()" name="vehicle" value="Bike"> 0-3<br>
			    <input type="radio" onclick = "leeftijdsgroepenKnopTwee()" name="vehicle" value="Car"> 4-12<br>
		     	<input type="radio" onclick = "leeftijdsgroepenKnopDrie()" name="vehicle" value="Bike"> 13-17<br>
			    <input type="radio" onclick = "leeftijdsgroepenKnopVier()" name="vehicle" value="Bike"> 18-24<br>
				<input type="radio" onclick = "leeftijdsgroepenKnopVijf()" name="vehicle" value="Car"> 25-49<br>
				<input type="radio" onclick = "leeftijdsgroepenKnopZes()" name="vehicle" value="Car"> 50-64<br>
				<input type="radio" onclick = "leeftijdsgroepenKnopZeven()" name="vehicle" value="Car"> 65+<br>
			</form>
		</div>

		<!-- voorkeursknoppen -->
		<div id="flipTwee" style = "position: absolute; z-index: 3; top: 435; left: 100;">...</div>
		<div id="panelTwee" style = "position: absolute; z-index: 3; top: 465; left: 60;">
			<form action="demo_form.asp" method="get">
			<input id = "radioVoorkeurWoningwaardeLaag"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Laag<br>
			<input id = "radioVoorkeurWoningwaardeGemiddeld"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Gemiddeld<br>
			<input id = "radioVoorkeurWoningwaardeHoog"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Hoog<br>
			<input id = "radioVoorkeurWoningwaardeGeen"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Maakt niet uit<br>
			</form>
		</div>		

			<!-- <input id = "radioVoorkeurWoningwaardeLaag"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike" style = "position: absolute; z-index: 2; top: 460; left: 10;"> Laag<br>
			<input id = "radioVoorkeurWoningwaardeGemiddeld"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike" style = "position: absolute; z-index: 2; top: 460; left: 40;"> Gemiddeld<br>
			<input id = "radioVoorkeurWoningwaardeHoog"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike" style = "position: absolute; z-index: 2; top: 460; left: 30;"> Hoog<br>
			<input id = "radioVoorkeurWoningwaardeGeen"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike" style = "position: absolute; z-index: 2; top: 460; left: 40;"> Maakt niet uit<br> -->


		<div id = "divradio2" style = "position: absolute; z-index: 2; top: 800; left: 10;">
			<input id = "radioVoorkeurBevolkingsdichtheidLaag"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Laag<br>
			<input id = "radioVoorkeurBevolkingsdichtheidGemiddeld"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Gemiddeld<br>
			<input id = "radioVoorkeurBevolkingsdichtheidHoog"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Hoog<br>
			<input id = "radioVoorkeurBevolkingsdichtheidGeen"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Maakt niet uit<br>
		</div>

		<div id = "divradio" style = "position: absolute; z-index: 2; top: 900; left: 10;">
			<input id = "radioVoorkeurVeiligheidLaag"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Laag<br>
			<input id = "radioVoorkeurVeiligheidGemiddeld"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Gemiddeld<br>
			<input id = "radioVoorkeurVeiligheidHoog"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Hoog<br>
			<input id = "radioVoorkeurVeiligheidGeen"type="radio" onclick = "voorkeurWoningwaarde()" name="vehicle" value="Bike"> Maakt niet uit<br>
		</div>			

		<!-- script voor informatiecanvas -->
		<script>
			// laad data in
			var woningwaarde = []
			var woningwaardem2 = []
			var gebied = []
			var gebiedNaam = []
			var gebiedExtra = []
			var bevolkingsdichtheidkm2 = []
			var leeftijdEen = []
			var leeftijdTwee = []
			var leeftijdDrie = []
			var leeftijdVier = []
			var leeftijdVijf = []
			var leeftijdZes = []
			var leeftijdZeven = []
			var veiligheid = []
			d3.tsv("/data/gebieden/WOZ.tsv", function(data) {
				for (j = 0; j < 23; j++){
					data[j].WOZ = +data[j].WOZ
					data[j].WOZm2 = +data[j].WOZm2
					data[j].bevolkingsdichtheidkm2 = +data[j].bevolkingsdichtheidkm2
					data[j].leeftijdEen = +data[j].leeftijdEen
					woningwaarde.push(data[j].WOZ)
					woningwaardem2.push(data[j].WOZm2)
					gebiedExtra.push(data[j].gebied)
					gebiedNaam.push(data[j].gebiedNaam)
					bevolkingsdichtheidkm2.push(data[j].bevolkingsdichtheidkm2)
					leeftijdEen.push(data[j].leeftijdEen)
					leeftijdTwee.push(data[j].leeftijdTwee)
					leeftijdDrie.push(data[j].leeftijdDrie)
					leeftijdVier.push(data[j].leeftijdVier)
					leeftijdVijf.push(data[j].leeftijdVijf)
					leeftijdZes.push(data[j].leeftijdZes)
					leeftijdZeven.push(data[j].leeftijdZeven)
					veiligheid.push(data[j].veiligheid)
				}
				console.log(gebiedExtra)
			});

			// functie om tekst te wrappen
			function wrapText(context, text, x, y, maxWidth, lineHeight) {
		        var words = text.split(' ');
		        var line = '';

		        for(var n = 0; n < words.length; n++) {
		            var testLine = line + words[n] + ' ';
		            var metrics = context.measureText(testLine);
		            var testWidth = metrics.width;
		            if (testWidth > maxWidth && n > 0) {
			            context.fillText(line, x, y);
			            line = words[n] + ' ';
			            y += lineHeight;
		            }
		            else {
		            	line = testLine;
		            }
		        }
		        context.fillText(line, x, y);
	        }

	        // hoe moet de opmaak?
			var c = document.getElementById("myCanvas1");
				var ctx = c.getContext("2d");
				var maxWidth = 370;
			    var lineHeight = 25;
			    var x = (myCanvas1.width - maxWidth) / 2;
			    var y = 50;
			    // variablen van maken
				ctx.rect(10,50,400,800);
				ctx.fillStyle = "white";
				ctx.fill();

				// voorbeeld tekst om te wrappen
				var text = 'Amsterdam is op te delen in 22 gebieden. Op deze pagina kunt u informatie vinden over de woningwaarde, de bevolkingsdichtheid, de veiligheid en de relatieve frequentie van de leeftijd van de inwoners van elk van deze gebieden. Hover over de kaart voor informatie over de geselecteerde optie of klik op een gebied op de kaart voor uitgebreide gebiedsspecifieke informatie. Om terug te gaan naar het overzicht klikt u op "Top"';
				var textTwee = 'Als ik in Amsterdam woon, wil ik dat de de waarde van mijn woning ........... is';
				var textDrie = 'Als ik in Amsterdam woon, wil ik dat de bevolkingsdichtheid in mijn woonomgeving ... is';
				var textVier = 'Als ik in Amsterdam woon, wil ik dat de veiligheid in mijn woonomgeving relatief ... is';
				
			    ctx.font = '12pt Calibri';
			    ctx.fillStyle = '#333';
				wrapText(ctx, text, x, y, maxWidth, lineHeight);
				wrapText(ctx, textTwee, x, 400, maxWidth, lineHeight);
				wrapText(ctx, textDrie, x, 520, maxWidth, lineHeight);
				wrapText(ctx, textVier, x, 610, maxWidth, lineHeight);

				// bron: http://www.html5canvastutorials.com/tutorials/html5-canvas-image-size/
				var imageObj = new Image();
	      		imageObj.onload = function() {
	       	 		ctx.drawImage(imageObj, 10, 10, 45, 45);
	      		};
	      		imageObj.src = 'http://www.brianrose.com/amsterdam/images/LogoAmsterdam.gif';

	      	var c = document.getElementById("myCanvas2");
				var ctx = c.getContext("2d");
				var maxWidth = 400;
			    var lineHeight = 25;
			    var x = (myCanvas1.width - maxWidth) / 2;
			    var y = 60;
			    // variablen van maken
				ctx.rect(0,10,500,45);
				ctx.fillStyle = "red";
				ctx.fill();
				ctx.font = "20px Verdana";
				ctx.fillStyle = "white";
				ctx.fillText("Wonen in Amsterdam",70,40);
				ctx.font = "12px Verdana";
				ctx.fillStyle = "black";


			// draw legend functie
			function drawLegend(kleurenLegenda, dataLegenda) {
			var c = document.getElementById("myCanvas3");
				var ctx = c.getContext("2d");
				var maxWidth = 400;
			    var lineHeight = 25;
			    var x = (myCanvas1.width - maxWidth) / 2;
			    var y = 60;

			    // variablen van maken
			    paddingBlock = 0;
			    sizeBlock = 80;
			    for (var i = 0; i < 6; i++ ){
				    ctx.beginPath();
					ctx.rect(paddingBlock,10,sizeBlock,45);
					ctx.fillStyle = kleurenLegenda[i];
					ctx.fill();
					ctx.font = "10px Verdana";
					ctx.fillStyle = "black";
					ctx.fillText(dataLegenda[i],paddingBlock+10,40);
					paddingBlock = paddingBlock + sizeBlock
				}
			}

			// d3 bar chart
			function d3Bar() {
				var margin = {top: 40, right: 20, bottom: 30, left: 40},
			    width = 400 - margin.left - margin.right,
			    height = 300 - margin.top - margin.bottom;

				var formatPercent = d3.format(".0%");

				var x = d3.scale.ordinal()
				    .rangeRoundBands([0, width], .1);

				var y = d3.scale.linear()
				    .range([height, 0]);

				var xAxis = d3.svg.axis()
				    .scale(x)
				    .orient("bottom");

				var yAxis = d3.svg.axis()
				    .scale(y)
				    .orient("left")

				var tip = d3.tip()
				  .attr('class', 'd3-tip')
				  .offset([-10, 0])
				  .html(function(d) {
				    return "<strong>gebied:</strong> <span style='color:red'>" + d.letter + "</span>";
				  })

				var svg = d3.select("#chart").append("svg")
				    .attr("width", width + margin.left + margin.right)
				    .attr("height", height + margin.top + margin.bottom)
				  .append("g")
				    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

				svg.call(tip);

				d3.tsv("data.tsv", drawBar)
				
				function drawBar(data){
				  x.domain(data.map(function(d) { return d.letter; }));
				  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

				  svg.append("g")
				      .attr("class", "x axis")
				      .attr("transform", "translate(0," + height + ")")
				      // .call(xAxis);

				  svg.append("g")
				      .attr("class", "y axis")
				      .call(yAxis)
				    .append("text")
				      .attr("transform", "rotate(-90)")
				      .attr("y", 6)
				      .attr("dy", ".71em")
				      .style("text-anchor", "end")
				      .text("Woningwaarde per m2");

				  svg.selectAll(".bar")
				      .data(data)
				    .enter().append("rect")
				      .attr("class", "bar")
				      .attr("x", function(d) { return x(d.letter); })
				      .attr("width", x.rangeBand())
				      .attr("y", function(d) { return y(d.frequency); })
				      .attr("height", function(d) { return height - y(d.frequency); })
				      .on('mouseover', tip.show)
				      .on('mouseout', tip.hide)
				};

				function type(d) {
				  d.frequency = +d.frequency;
				  return d;
				}

				var svgTwee = d3.select("#chart2").append("svg")
				    .attr("width", width + margin.left + margin.right)
				    .attr("height", height + margin.top + margin.bottom)
				  .append("g")
				    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

				svgTwee.call(tip);
				
				function drawBar(data){
				  x.domain(data.map(function(d) { return d.letter; }));
				  y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

				  svgTwee.append("g")
				      .attr("class", "x axis")
				      .attr("transform", "translate(0," + height + ")")
				      // .call(xAxis);

				  svgTwee.append("g")
				      .attr("class", "y axis")
				      .call(yAxis)
				    .append("text")
				      .attr("transform", "rotate(-90)")
				      .attr("y", 6)
				      .attr("dy", ".71em")
				      .style("text-anchor", "end")
				      .text("Woningwaarde per m2");

				  svgTwee.selectAll(".bar")
				      .data(data)
				    .enter().append("rect")
				      .attr("class", "bar")
				      .attr("x", function(d) { return x(d.letter); })
				      .attr("width", x.rangeBand())
				      .attr("y", function(d) { return y(d.frequency); })
				      .attr("height", function(d) { return height - y(d.frequency); })
				      .on('mouseover', tip.show)
				      .on('mouseout', tip.hide)
				};

				function type(d) {
				  d.frequency = +d.frequency;
				  return d;
				}
			}
		</script>
	</body>
</html>
</code>